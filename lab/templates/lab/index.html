<!--
turtle-lab.org
Copyright (C) 2017  Henrik Baran

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->


{% load widget_tweaks %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Turtle Lab</title>
    {% load static %}
    <!-- Stylesheet Bootstrap -->
    <link rel="stylesheet" href="{% static "bootstrap-3.3.7-dist/css/bootstrap.min.css" %}">
    <!-- JS Font Awesome -->
    <script defer src="{% static "fontawesome-free-5.0.6/svg-with-js/js/fontawesome-all.min.js" %}"></script>
</head>
<body id="id_body" oncontextmenu="return false;">
    <!-- COVER -->
    <div id="cover" style="position: fixed; height: 100%; width: 100%; top: 0; left: 0; z-index: 9999; background: white"></div>
    <!-- NAVBAR -->
    {% if content != 'index' %}
    <div id="id_navbar" class="container-fluid" style="margin-bottom: 50px; background-color: #98ccff">
        <nav class="navbar navbar-default navbar-fixed-top">
            <div class="container-fluid">
                <!-- NAVBAR HEADER -->
                <!-- Home -->
                {% if 'home' in perm %}
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed"
                                data-toggle="collapse" data-target="#bs-example-navbar-collapse-1"
                                aria-expanded="false">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <a class="navbar-brand" href="/home/">Home</a>
                {% endif %}
                </div>

                <!-- NAVBAR MAIN -->
                <!-- Master data -->
                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                    <ul class="nav navbar-nav">
                        <li><a class="navbar-brand" href="/overview/">Overview</a></li>
                        <li class="dropdown">
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">Master Data
                            <span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <!-- Conditions -->
                                {% if 'co_r' in perm or 'co_w' in perm or 'co_d' in perm %}
                                    <li><a href="/conditions/">Conditions</a></li>
                                {% endif %}
                                <!-- Locations -->
                                {% if 'lo_r' in perm or 'lo_w' in perm or 'lo_d' in perm or 'lo_l' in perm %}
                                    <li><a href="/locations/">Locations</a></li>
                                {% endif %}
                                <!-- Types -->
                                {% if 'ty_r' in perm or 'ty_w' in perm or 'ty_d' in perm %}
                                    <li><a href="/types/">Types</a></li>
                                {% endif %}
                                <!-- Box Types -->
                                {% if 'bt_r' in perm or 'bt_w' in perm or 'bt_d' in perm %}
                                    <li><a href="/box_types/">Box Types</a></li>
                                {% endif %}
                                <!-- Accounts -->
                                {% if 'ac_r' in perm or 'ac_w' in perm or 'ac_d' in perm %}
                                    <li><a href="/freeze_thaw_accounts/">Accounts</a></li>
                                {% endif %}
                                <!-- Samples -->
                                {% if 'sa_r' in perm or 'sa_w' in perm or 'sa_d' in perm or 'sa_l' in perm %}
                                    <li><a href="/samples/">Samples</a></li>
                                {% endif %}
                                <!-- Reagents -->
                                {% if 're_r' in perm or 're_w' in perm or 're_d' in perm or 're_l' in perm %}
                                    <li><a href="/reagents/">Reagents</a></li>
                                {% endif %}
                                <!-- Boxes -->
                                {% if 'bo_r' in perm or 'bo_w' in perm or 'bo_d' in perm or 'bo_l' in perm %}
                                    <li><a href="/boxes/">Boxes</a></li>
                                {% endif %}
                            </ul>
                        </li>
                        <!-- Logs -->
                        {% if 'log_mo' in perm or 'log_lo' in perm or 'log_la' in perm or 'log_bo' in perm %}
                            <li class="dropdown">
                                <a class="dropdown-toggle" data-toggle="dropdown" href="#">Logs
                                <span class="caret"></span></a>
                                <ul class="dropdown-menu">
                                    <!-- Movement Log -->
                                    {% if 'log_mo' in perm %}
                                        <li><a href="/movement_log/">Movement</a></li>
                                    {% endif %}
                                    <!-- Login Log -->
                                    {% if 'log_lo' in perm %}
                                        <li><a href="/login_log/">Login</a></li>
                                    {% endif %}
                                    <!-- Label Log -->
                                    {% if 'log_la' in perm %}
                                        <li><a href="/label_log/">Labels</a></li>
                                    {% endif %}
                                    <!-- Boxing Log -->
                                    {% if 'log_bo' in perm %}
                                        <li><a href="/boxing_log/">Boxing</a></li>
                                    {% endif %}
                                </ul>
                            </li>
                        {% endif %}
                        <!-- Admin -->
                        {% if 'ro_r' in perm or 'ro_w' in perm or 'ro_d' in perm or 'us_r' in perm or 'us_w' in perm or 'us_a' in perm or 'us_p' in perm %}
                            <li class="dropdown">
                                <a class="dropdown-toggle" data-toggle="dropdown" href="#">Administration
                                <span class="caret"></span></a>
                                <ul class="dropdown-menu">
                                    <!-- roles -->
                                    {% if 'ro_r' in perm or 'ro_w' in perm or 'ro_d' in perm %}
                                        <li><a href="/roles/">Roles</a></li>
                                    {% endif %}
                                    <!-- Users -->
                                    {% if 'us_r' in perm or 'us_w' in perm or 'us_a' in perm or 'us_p' in perm %}
                                        <li><a href="/users/">Users</a></li>
                                    {% endif %}
                                </ul>
                            </li>
                        {% endif %}
                    </ul>
                    <!-- NAVBAR RIGHT -->
                    <ul class="nav navbar-nav navbar-right" style="padding-right: 10px;">
                        {% if session %}
                            <li><a href="#"><i class="fas fa-lock" style="color: green"></i> {{ user }}</a></li>
                            <li><a href="/index/logout/"><i class="fas fa-sign-out-alt"></i></a></li>
                        {% else %}
                            <li><a href="#"><i class="fas fa-lock-open" style="color: red"></i></a></li>
                        {% endif %}
                    </ul>
                </div>
            </div>
        </nav>
    </div>
    {% endif %}

    <!-- CONTROLBAR -->
    {% if tables or log %}
        <div id="id_controlbar" class="container-fluid" style="background: lightgrey; position: fixed; width:100%">
             <div class="btn-group-lg" role="group">
                 <!--<button id="id_nav_btn_duplicate" type="button" class="btn btn-info">
                        <span class="glyphicon glyphicon-duplicate"></span></button>-->
                <!-- Tables -->
                {% if content != 'movement_log' and content != 'home' and content != 'login_log' and content != 'label_log' and content != 'boxing_log' and content != 'overview' %}
                    <!-- Conditions -->
                    {% if content == 'conditions' and 'co_w' in perm %}
                        <button id="id_nav_btn_new" type="button" class="btn btn-success">
                            <i class="fas fa-plus"></i></button>
                        <button id="id_nav_btn_duplicate" type="button" class="btn btn-default disabled">
                            <i class="fas fa-copy"></i></button>
                        <button id="id_nav_btn_edit" type="button" class="btn btn-default disabled">
                            <i class="fas fa-edit"></i></button>
                    {% endif %}
                    {% if content == 'conditions' and 'co_d' in perm %}
                        <button id="id_nav_btn_delete" type="button" class="btn btn-default disabled">
                            <i class="fas fa-trash-alt"></i></button>
                    {% endif %}
                    <!-- Locations -->
                    {% if content == 'locations' and 'lo_w' in perm %}
                        <button id="id_nav_btn_new" type="button" class="btn btn-success">
                            <i class="fas fa-plus"></i></button>
                        <button id="id_nav_btn_duplicate" type="button" class="btn btn-default disabled">
                            <i class="fas fa-copy"></i></button>
                        <button id="id_nav_btn_edit" type="button" class="btn btn-default disabled">
                            <i class="fas fa-edit"></i></button>
                    {% endif %}
                    {% if content == 'locations' and 'lo_d' in perm %}
                        <button id="id_nav_btn_delete" type="button" class="btn btn-default disabled">
                            <i class="fas fa-trash-alt"></i></button>
                    {% endif %}
                    <!-- Types -->
                    {% if content == 'types' and 'ty_w' in perm %}
                        <button id="id_nav_btn_new" type="button" class="btn btn-success">
                            <i class="fas fa-plus"></i></button>
                        <button id="id_nav_btn_duplicate" type="button" class="btn btn-default disabled">
                            <i class="fas fa-copy"></i></button>
                        <button id="id_nav_btn_edit" type="button" class="btn btn-default disabled">
                            <i class="fas fa-edit"></i></button>
                    {% endif %}
                    {% if content == 'types' and 'ty_d' in perm %}
                        <button id="id_nav_btn_delete" type="button" class="btn btn-default disabled">
                            <i class="fas fa-trash-alt"></i></button>
                    {% endif %}
                    <!-- Box Types -->
                    {% if content == 'box_types' and 'bt_w' in perm %}
                        <button id="id_nav_btn_new" type="button" class="btn btn-success">
                            <i class="fas fa-plus"></i></button>
                        <button id="id_nav_btn_duplicate" type="button" class="btn btn-default disabled">
                            <i class="fas fa-copy"></i></button>
                        <button id="id_nav_btn_edit" type="button" class="btn btn-default disabled">
                            <i class="fas fa-edit"></i></button>
                    {% endif %}
                    {% if content == 'box_types' and 'bt_d' in perm %}
                        <button id="id_nav_btn_delete" type="button" class="btn btn-default disabled">
                            <i class="fas fa-trash-alt"></i></button>
                    {% endif %}
                    <!-- Samples -->
                    {% if content == 'samples' and 'sa_w' in perm %}
                        <button id="id_nav_btn_new" type="button" class="btn btn-success">
                            <i class="fas fa-plus"></i></button>
                        <button id="id_nav_btn_duplicate" type="button" class="btn btn-default disabled">
                            <i class="fas fa-copy"></i></button>
                        <button id="id_nav_btn_edit" type="button" class="btn btn-default disabled">
                            <i class="fas fa-edit"></i></button>
                    {% endif %}
                    {% if content == 'samples' and 'sa_d' in perm %}
                        <button id="id_nav_btn_delete" type="button" class="btn btn-default disabled">
                            <i class="fas fa-trash-alt"></i></button>
                    {% endif %}
                    <!-- Reagents -->
                    {% if content == 'reagents' and 're_w' in perm %}
                        <button id="id_nav_btn_new" type="button" class="btn btn-success">
                            <i class="fas fa-plus"></i></button>
                        <button id="id_nav_btn_duplicate" type="button" class="btn btn-default disabled">
                            <i class="fas fa-copy"></i></button>
                        <button id="id_nav_btn_edit" type="button" class="btn btn-default disabled">
                            <i class="fas fa-edit"></i></button>
                    {% endif %}
                    {% if content == 'reagents' and 're_d' in perm %}
                        <button id="id_nav_btn_delete" type="button" class="btn btn-default disabled">
                            <i class="fas fa-trash-alt"></i></button>
                    {% endif %}
                    <!-- Boxes -->
                    {% if content == 'boxes' and 'bo_w' in perm %}
                        <button id="id_nav_btn_new" type="button" class="btn btn-success">
                            <i class="fas fa-plus"></i></button>
                        <button id="id_nav_btn_duplicate" type="button" class="btn btn-default disabled">
                            <i class="fas fa-copy"></i></button>
                        <button id="id_nav_btn_edit" type="button" class="btn btn-default disabled">
                            <i class="fas fa-edit"></i></button>
                    {% endif %}
                    {% if content == 'boxes' and 'bo_d' in perm %}
                        <button id="id_nav_btn_delete" type="button" class="btn btn-default disabled">
                            <i class="fas fa-trash-alt"></i></button>
                    {% endif %}
                    <!-- Accounts -->
                    {% if content == 'freeze_thaw_accounts' and 'ac_w' in perm %}
                        <button id="id_nav_btn_new" type="button" class="btn btn-success">
                            <i class="fas fa-plus"></i></button>
                        <button id="id_nav_btn_duplicate" type="button" class="btn btn-default disabled">
                            <i class="fas fa-copy"></i></button>
                        <button id="id_nav_btn_edit" type="button" class="btn btn-default disabled">
                            <i class="fas fa-edit"></i></button>
                    {% endif %}
                    {% if content == 'freeze_thaw_accounts' and 'ac_d' in perm %}
                        <button id="id_nav_btn_delete" type="button" class="btn btn-default disabled">
                            <i class="fas fa-trash-alt"></i></button>
                    {% endif %}
                    <!-- User -->
                    {% if content == 'users' and 'us_w' in perm %}
                        <button id="id_nav_btn_new" type="button" class="btn btn-success">
                            <i class="fas fa-plus"></i></button>
                        <button id="id_nav_btn_edit" type="button" class="btn btn-default disabled">
                            <i class="fas fa-edit"></i></button>
                    {% endif %}
                    {% if content == 'users' and 'us_p' in perm %}
                        <button id="id_nav_btn_password" type="button" class="btn btn-default disabled">
                            <i class="fas fa-key"></i></button>
                    {% endif %}
                    {% if content == 'users' and 'us_a' in perm %}
                        <button id="id_nav_btn_active" type="button" class="btn btn-default disabled">
                            <i class="fas fa-user-times"></i></button>
                    {% endif %}
                    <!-- Roles -->
                    {% if content == 'roles' and 'ro_w' in perm %}
                        <button id="id_nav_btn_new" type="button" class="btn btn-success">
                            <i class="fas fa-plus"></i></button>
                        <button id="id_nav_btn_duplicate" type="button" class="btn btn-default disabled">
                            <i class="fas fa-copy"></i></button>
                        <button id="id_nav_btn_edit" type="button" class="btn btn-default disabled">
                            <i class="fas fa-edit"></i></button>
                    {% endif %}
                    {% if content == 'roles' and 'ro_d' in perm %}
                        <button id="id_nav_btn_delete" type="button" class="btn btn-default disabled">
                            <i class="fas fa-trash-alt"></i></button>
                    {% endif %}
                    <!-- Label -->
                    {% if content == 'locations' and 'lo_l' in perm %}
                        <button id="id_nav_btn_barcode" type="button" class="btn btn-default disabled">
                            <i class="fas fa-barcode"></i></button>
                    {% endif %}
                    {% if content == 'samples' and 'sa_l' in perm %}
                        <button id="id_nav_btn_barcode" type="button" class="btn btn-default disabled">
                            <i class="fas fa-barcode"></i></button>
                    {% endif %}
                    {% if content == 'boxes' and 'bo_l' in perm %}
                        <button id="id_nav_btn_barcode" type="button" class="btn btn-default disabled">
                            <i class="fas fa-barcode"></i></button>
                    {% endif %}
                    {% if content == 'reagents' and 're_l' in perm %}
                        <button id="id_nav_btn_barcode" type="button" class="btn btn-default disabled">
                            <i class="fas fa-barcode"></i></button>
                    {% endif %}
                    <!-- Audit trail -->
                        <button id="id_nav_btn_audit_trail" type="button" class="btn btn-default disabled">
                            <i class="fas fa-clock"></i></button>
                    {% endif %}
                <!-- Home -->
                    <!-- Movement -->
                    {% if content == 'home' and 'mo' in perm %}
                        <button id="id_nav_btn_movement" type="button" class="btn btn-default disabled">
                            <i class="fas fa-exchange-alt"></i></button>
                    {% endif %}
                    <!-- Boxing -->
                    {% if content == 'home' and 'bo' in perm %}
                        <button id="id_nav_btn_boxing" type="button" class="btn btn-default disabled">
                            <i class="fas fa-th"></i></button>
                    {% endif %}
                <!-- Overview -->
                    <!-- BOXING -->
                    {% if content == 'overview'%}
                        <button id="id_nav_btn_overview_boxing" type="button" class="btn btn-success">
                            <i class="fas fa-plus"></i></button>
                    {% endif %}
                <!-- UNUSED -->
                <button id="id_nav_btn_export" type="button" class="btn btn-default">
                    <i class="fas fa-download"></i></button>
                <button id="id_nav_btn_import" type="button" class="btn btn-default">
                    <i class="fas fa-upload"></i></button>

                 <button id="id_nav_btn_filter" type="button" class="btn btn-default disabled">
                     <i class="fas fa-filter"></i></button>
            </div>
        </div>
    {% endif %}

    <!-- CONTENT -->
    <div id="id_content" class="container-fluid" style="margin-top:100px">
        {% if tables %}
            <!-- Table -->
            <table id="id_table" class="table table-hover" style="margin-bottom: 50px">
                <thead id="id_thead">
                    <tr>
                        {% for head in header %}
                            <th>{{ head }}</th>
                        {% endfor %}
                    </tr>
                </thead>
                <tbody id="id_tbody">
                    {% block row %}
                        {% for row in query %}
                            {{ row|safe }}
                        {% endfor %}
                    {% endblock %}
                </tbody>
            </table>
            <!-- NEW -->
            {% if content != 'movement_log' and content != 'home' and content != 'login_log' %}
                <div class="modal fade" id="id_modal_new" tabindex="-1" role="dialog" aria-labelledby="id_modal_new">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <!-- HEADER -->
                            <div class="modal-header">
                                <a type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></a>
                                <h4 class="modal-title" id="id_modal_new">New</h4>
                            </div>
                            <!-- BODY -->
                            <div class="modal-body">
                                <form id="id_form_new" onsubmit="return false">
                                    {% csrf_token %}
                                    <!-- SPECIFIC -->
                                    {% for field in modal_new %}
                                        <div class="form-group">
                                            {{ field.label_tag }}
                                            {% render_field field %}
                                            {% if field.help_text %}
                                                <small class="form-text text-muted">{{ field.help_text }}</small>
                                            {% endif %}
                                        </div>
                                    {% endfor %}
                                </form>
                            </div>
                            <!-- FOOTER -->
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                <button type="button" class="btn btn-primary" data-dismiss="" id="id_submit_new">Save changes</button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- DUPLICATE -->
                <div class="modal fade" id="id_modal_duplicate" tabindex="-1" role="dialog" aria-labelledby="id_modal_duplicate">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <!-- HEADER -->
                            <div class="modal-header">
                                <a type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></a>
                                <h4 class="modal-title" id="id_modal_duplicate">Duplicate</h4>
                            </div>
                            <!-- BODY -->
                            <div class="modal-body">
                                <form id="id_form_duplicate" onsubmit="return false">
                                    {% csrf_token %}
                                    <!-- SPECIFIC -->
                                    {% for field in modal_new %}
                                        <div class="form-group">
                                            {{ field.label_tag }}
                                            {% render_field field %}
                                            {% if field.help_text %}
                                                <small class="form-text text-muted">{{ field.help_text }}</small>
                                            {% endif %}
                                        </div>
                                    {% endfor %}
                                </form>
                            </div>
                            <!-- FOOTER -->
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                <button type="button" class="btn btn-primary" data-dismiss="" id="id_submit_duplicate">Save changes</button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- EDIT -->
                <div class="modal fade" id="id_modal_edit" tabindex="-1" role="dialog" aria-labelledby="id_modal_edit">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <!-- HEADER -->
                            <div class="modal-header">
                                <a type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></a>
                                <h4 class="modal-title" id="id_modal_edit">Edit</h4>
                            </div>
                            <!-- BODY -->
                            <div class="modal-body">
                                <form id="id_form_edit" onsubmit="return false">
                                    {% csrf_token %}
                                    <!-- SPECIFIC -->
                                    {% for field in modal_edit %}
                                        <div class="form-group">
                                            {{ field.label_tag }}
                                            {% render_field field %}
                                            {% if field.help_text %}
                                                <small class="form-text text-muted">{{ field.help_text }}</small>
                                            {% endif %}
                                        </div>
                                    {% endfor %}
                                </form>
                            </div>
                            <!-- FOOTER -->
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                <button type="button" class="btn btn-primary" data-dismiss="modal" id="id_submit_edit">Save changes</button>
                            </div>
                        </div>
                    </div>
                </div>


                <!-- Audit Trail -->
                <div class="modal fade" id="id_modal_audit_trail" tabindex="-1" role="dialog" aria-labelledby="id_modal_audit_trail">
                    <div class="modal-dialog modal-lg" role="document">
                        <div class="modal-content">
                            <!-- HEADER -->
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                <h4 class="modal-title" id="id_modal_audit_trail">Audit Trail</h4>
                            </div>
                            <!-- BODY -->
                            <div class="container-fluid">
                                <table class="table table-hover" id="id_table_audit_trail">
                                    <thead>
                                        <tr>
                                            <!-- SPECIFIC -->
                                            {% if header_audit_trail %}
                                                {% for head in header_audit_trail %}
                                                    <th>{{ head }}</th>
                                                {% endfor %}
                                            {% endif %}
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <!-- SPECIFIC -->
                                    </tbody>
                                </table>
                            </div>
                            <!-- FOOTER -->
                            <div class="modal-footer">
                                <button style="float:left" id="id_nav_audit_trail_btn_export" type="button" class="btn btn-default disabled">
                                         <i class="fas fa-download"></i></button>
                                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                            </div>
                        </div>
                    </div>
                </div>
            {% endif %}

            <!-- HOME -->
            {% if content == 'home' %}
                <!-- MOVEMENT -->
                <div class="modal fade" id="id_modal_movement" tabindex="-1" role="dialog" aria-labelledby="id_modal_movement">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <!-- HEADER -->
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                <h4 class="modal-title" id="id_modal_movement">Movement</h4>
                            </div>
                            <!-- BODY -->
                            <div class="modal-body">
                                <form id="id_form_movement">
                                    {% csrf_token %}
                                    <!-- SPECIFIC -->
                                    {% for field in modal_movement %}
                                        <div class="form-group">
                                            {{ field.label_tag }}
                                            {% render_field field %}
                                            {% if field.help_text %}
                                                <small class="form-text text-muted">{{ field.help_text }}</small>
                                            {% endif %}
                                        </div>
                                    {% endfor %}
                                </form>
                            </div>
                            <!-- FOOTER -->
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                <button type="button" class="btn btn-primary" data-dismiss="" id="id_submit_movement">Save changes</button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- BOXING -->
                <div class="modal fade" id="id_modal_boxing" tabindex="-1" role="dialog" aria-labelledby="id_modal_boxing">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <!-- HEADER -->
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                <h4 class="modal-title" id="id_modal_boxing">Boxing</h4>
                            </div>
                            <!-- BODY -->
                            <div class="modal-body">
                                <form id="id_form_boxing">
                                    {% csrf_token %}
                                    <!-- SPECIFIC -->
                                    {% for field in modal_boxing %}
                                        <div class="form-group">
                                            {{ field.label_tag }}
                                            {% render_field field %}
                                            {% if field.help_text %}
                                                <small class="form-text text-muted">{{ field.help_text }}</small>
                                            {% endif %}
                                        </div>
                                    {% endfor %}
                                </form>
                            </div>
                            <!-- FOOTER -->
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                <button type="button" class="btn btn-primary" data-dismiss="" id="id_submit_boxing">Save changes</button>
                            </div>
                        </div>
                    </div>
                </div>
            {% endif %}

            <!-- OVERVIEW -->
            {% if content == 'overview' %}
                <!-- BOXING -->
                <div class="modal fade" id="id_modal_overview_boxing" tabindex="-1" role="dialog" aria-labelledby="id_modal_overview_boxing">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <!-- HEADER -->
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                <h4 class="modal-title" id="id_modal_overview_boxing">New Reagent / Sample</h4>
                            </div>
                            <!-- BODY -->
                            <div class="modal-body">
                                <form id="id_form_overview_boxing" class="form-horizontal">
                                    {% csrf_token %}
                                    <!-- SPECIFIC -->
                                    {% for field in modal_overview_boxing %}
                                        {% if field.label == 'Type R' %}
                                            <div id="id_type_r" class="form-group" style="">
                                                <label class="col-sm-2 control-label">{{ field.label_tag }}</label>
                                                <div class="col-sm-10">
                                                    {% render_field field %}
                                                </div>
                                                {% if field.help_text %}
                                                    <small class="form-text text-muted">{{ field.help_text }}</small>
                                                {% endif %}
                                            </div>
                                        {% elif field.label == 'Type S' %}
                                            <div id="id_type_s" class="form-group" style="display: none">
                                                <label class="col-sm-2 control-label">{{ field.label_tag }}</label>
                                                <div class="col-sm-10">
                                                    {% render_field field %}
                                                </div>
                                                {% if field.help_text %}
                                                    <small class="form-text text-muted">{{ field.help_text }}</small>
                                                {% endif %}
                                            </div>
                                        {% elif field.label == 'Box' %}
                                        {% else %}
                                            <div class="form-group">
                                                <label class="col-sm-2 control-label">{{ field.label_tag }}</label>
                                                <div class="col-sm-10">
                                                    {% render_field field %}
                                                </div>
                                                {% if field.help_text %}
                                                    <small class="form-text text-muted">{{ field.help_text }}</small>
                                                {% endif %}
                                            </div>
                                        {% endif %}
                                    {% endfor %}
                                    <div class="form-group">
                                        <label class="col-sm-2 control-label">Location:</label>
                                        <div class="col-sm-10">
                                            <p class="form-control-static" id="id_overview_boxing_p_location"></p>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-2 control-label">Box:</label>
                                        <div class="col-sm-10">
                                            <p class="form-control-static" id="id_overview_boxing_p_box"></p>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-2 control-label">Position:</label>
                                        <div class="col-sm-10">
                                            <p class="form-control-static" id="id_overview_boxing_p_position"></p>
                                        </div>
                                    </div>
                                    {% for field in modal_overview_boxing %}
                                        {% if field.label == 'Box' %}
                                            <div class="form-group">
                                                <label class="col-sm-2 control-label">{{ field.label_tag }}</label>
                                                <div class="col-sm-10">
                                                    {% render_field field %}
                                                </div>
                                                {% if field.help_text %}
                                                    <small class="form-text text-muted">{{ field.help_text }}</small>
                                                {% endif %}
                                            </div>
                                        {% endif %}
                                    {% endfor %}
                                </form>
                            </div>
                            <!-- FOOTER -->
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                <button type="button" class="btn btn-primary" data-dismiss="" id="id_submit_overview_boxing">Save changes</button>
                            </div>
                        </div>
                    </div>
                </div>
            {% endif %}
        {% endif %}

        <!-- SPECIFIC CONTENT -->
        {% if content == 'index' %}
            <div class="container" style="max-width: 400px">
                <h1 style="text-align: center; margin-bottom: 20px">Please sign in</h1>
                <form id="id_form_login" onsubmit="return false">
                    {% csrf_token %}
                    {% for field in login %}
                        <div class="form-group has-feedback">
                            {% render_field field %}
                            {% if field.help_text %}
                                <small class="form-text text-muted">{{ field.help_text }}</small>
                            {% endif %}
                        </div>
                    {% endfor %}
                </form>
                <!-- BUTTON -->
                <button type="button" class="btn btn-primary btn-lg" id="id_submit_login" style="margin-top: 20px; width: 400px">Sign in</button>
            </div>
        {% endif %}

        <!-- PASSWORD RESET LOGIN -->
        {% if content == 'index' %}
            <div class="modal fade" id="id_modal_password" tabindex="-1" role="dialog" aria-labelledby="id_modal_password">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <!-- HEADER -->
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="id_modal_password">Password</h4>
                        </div>
                        <!-- BODY -->
                        <div class="modal-body">
                            <form id="id_form_password">
                                {% csrf_token %}
                                <!-- SPECIFIC -->
                                {% for field in modal_password %}
                                    <div class="form-group">
                                        {{ field.label_tag }}
                                        {% render_field field %}
                                        {% if field.help_text %}
                                            <small class="form-text text-muted">{{ field.help_text }}</small>
                                        {% endif %}
                                    </div>
                                {% endfor %}
                            </form>
                        </div>
                        <!-- FOOTER -->
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-primary" data-dismiss="" id="id_submit_password">Save changes</button>
                        </div>
                    </div>
                </div>
            </div>
        {% endif %}

        <!-- PASSWORD RESET USERS -->
        {% if content == 'users' %}
            <div class="modal fade" id="id_modal_password_users" tabindex="-1" role="dialog" aria-labelledby="id_modal_password_users">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <!-- HEADER -->
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="id_modal_password_users">Password</h4>
                        </div>
                        <!-- BODY -->
                        <div class="modal-body">
                            <form id="id_form_password_users">
                                {% csrf_token %}
                                <!-- SPECIFIC -->
                                {% for field in modal_password_users %}
                                    <div class="form-group">
                                        {{ field.label_tag }}
                                        {% render_field field %}
                                        {% if field.help_text %}
                                            <small class="form-text text-muted">{{ field.help_text }}</small>
                                        {% endif %}
                                    </div>
                                {% endfor %}
                            </form>
                        </div>
                        <!-- FOOTER -->
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-primary" data-dismiss="" id="id_submit_password_users">Save changes</button>
                        </div>
                    </div>
                </div>
            </div>
        {% endif %}
    </div>


    <!-- FOOTER -->
    <footer id="id_footer" class="navbar-fixed-bottom" style="background: lightgrey; height: 50px">

    </footer>

    <!-- jQuery CDN -->
    <!-- <script src="https://code.jquery.com/jquery-3.2.1.min.js"
            integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
            crossorigin="anonymous"></script> -->
    <script type="text/javascript" src="{% static "jquery/jquery-3.2.1.min.js" %}"></script>

    <!-- JA Bootstrap CDN -->
    <!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
            integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
            crossorigin="anonymous"></script> -->
    <script type="text/javascript" src="{% static "bootstrap-3.3.7-dist/js/bootstrap.min.js" %}"></script>

    {% include "lab/core.html" %}
    {% include "lab/export.html" %}
    {% include "lab/import.html" %}

    {% if tables %}
        {% if content != 'movement_log' and content != 'home' and content != 'login_log' and content != 'boxing_log' %}
            {% include "lab/audittrail.html" %}
            {% include "lab/new.html" %}
            {% include "lab/duplicate.html" %}
            {% include "lab/edit.html" %}
            {% include "lab/delete.html" %}
            {% include "lab/form.html" %}
        {% endif %}
    {% endif %}

    {% if content == 'locations' or content == 'samples' or content == 'boxes' %}
        {% include "lab/label.html" %}
    {% endif %}

    {% if content == 'home' %}
        {% include "lab/movement.html" %}
        {% include "lab/boxing.html" %}
        {% include "lab/form.html" %}
    {% endif %}

    {% if content == 'overview' %}
        {% include "lab/overview_boxing.html" %}
        {% include "lab/form.html" %}
    {% endif %}

    {% if content == 'users' %}
        {% include "lab/users_activate.html" %}
        {% include "lab/users_password.html" %}
    {% endif %}

    {% if content == 'index' %}
        {% include "lab/form.html" %}
        {% include "lab/login.html" %}
    {% endif %}
</body>
</html>
